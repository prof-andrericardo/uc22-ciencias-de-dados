# 📘 UC22 – Aula 9 — Visualização com **Matplotlib**

![Python](https://img.shields.io/badge/Python-3.11+-blue?logo=python)  
![Pandas](https://img.shields.io/badge/Pandas-Data%20Visualization-green?logo=pandas)  
![Matplotlib](https://img.shields.io/badge/Matplotlib-3.x-orange)  
![Google Colab](https://img.shields.io/badge/Google%20Colab-Notebook-yellow?logo=googlecolab)  
![Tempo](https://img.shields.io/badge/Dura%C3%A7%C3%A3o-90%20min-red)  
![Nível](https://img.shields.io/badge/N%C3%ADvel-Iniciante%E2%9E%9CIntermedi%C3%81rio-purple)

🎓 **Turma:** 3º Ano – Ensino Médio Técnico em Informática  
📍 **Tema:** Gráficos com Matplotlib a partir de DataFrames Pandas  
🐍 **Ferramenta principal:** Google Colab

---

## ✨ Frase motivadora

> “Bons gráficos contam histórias que os números sozinhos não contam.” – IAra 📈

---

## 🎯 Objetivos da Aula

- Criar gráficos básicos com **Matplotlib** a partir de DataFrames.
- Entender quando usar **barras, linhas, histogramas, boxplots e dispersão**.
- Ajustar **títulos, rótulos e rotação de eixos**.
- Salvar gráficos em **PNG** para entregar no Classroom.
- Aplicar boas práticas de **clareza** e **simplicidade**.

---

## 📂 Preparação dos Dados

Datasets:

- `pokemons_pokedex.csv`
- `escolas_estaduais_censo_escolar_2023.csv`

```python
# 📂 Montando o Google Drive
from google.colab import drive
drive.mount('/content/drive')

import pandas as pd
import matplotlib.pyplot as plt

caminho_poke = "/content/drive/MyDrive/UC22/pokemons_pokedex.csv"
caminho_escolas = "/content/drive/MyDrive/UC22/escolas_estaduais_censo_escolar_2023.csv"

df_poke = pd.read_csv(caminho_poke, encoding="utf-8")
df_escolas = pd.read_csv(caminho_escolas, encoding="latin-1", sep=",")

# Padronizar colunas
df_poke.columns    = df_poke.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)
df_escolas.columns = df_escolas.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)
```

---

## 1) 📊 Gráfico de Barras

Comparar categorias.

```python
contagem_tipo = df_poke['type_1'].value_counts().head(10)

plt.bar(contagem_tipo.index, contagem_tipo.values)
plt.title("Top 10 tipos por quantidade de Pokémon")
plt.xlabel("Tipo")
plt.ylabel("Quantidade")
plt.xticks(rotation=45, ha="right")
plt.tight_layout()
plt.show()
```

---

## 2) 📈 Gráfico de Linhas

Visualizar tendências.

```python
top_speed = df_poke.sort_values(by="speed", ascending=False).head(15)

plt.plot(range(len(top_speed)), top_speed["speed"])
plt.title("Top 15 Pokémon por Velocidade")
plt.xlabel("Ranking")
plt.ylabel("Speed")
plt.tight_layout()
plt.show()
```

---

## 3) 📊 Histograma

Mostrar distribuição de valores.

```python
plt.hist(df_poke["attack"].dropna(), bins=20)
plt.title("Distribuição de Attack")
plt.xlabel("Attack")
plt.ylabel("Frequência")
plt.tight_layout()
plt.show()
```

---

## 4) 📦 Boxplot

Resumo estatístico.

```python
plt.boxplot(df_poke["defense"].dropna())
plt.title("Boxplot de Defense")
plt.ylabel("Defense")
plt.tight_layout()
plt.show()
```

---

## 5) 🟣 Gráfico de Dispersão

Ver correlação entre atributos.

```python
amostra = df_poke.dropna(subset=["attack","speed"]).sample(200, random_state=42)

plt.scatter(amostra["attack"], amostra["speed"])
plt.title("Dispersão: Attack vs Speed")
plt.xlabel("Attack")
plt.ylabel("Speed")
plt.tight_layout()
plt.show()
```

---

## 6) Aplicando em Escolas

```python
top10_mun = df_escolas["no_municipio"].value_counts().head(10)

plt.bar(top10_mun.index, top10_mun.values)
plt.title("Top 10 Municípios por Número de Escolas")
plt.xlabel("Município")
plt.ylabel("Quantidade")
plt.xticks(rotation=45, ha="right")
plt.tight_layout()
plt.show()
```

---

## 💾 Salvando um gráfico

```python
plt.boxplot(df_poke["hp"].dropna())
plt.title("Boxplot de HP")
plt.savefig("boxplot_hp.png", dpi=150)
plt.show()
```

---

## ✅ Checklist do Aprendizado

- Gráficos de **barras, linhas, histograma, boxplot e dispersão**.
- Ajuste de **títulos, rótulos e rotação**.
- Como **salvar** imagens em PNG.

---

## 🧪 Mini-Lab (para o Classroom)

### Pokémon

1. **Barras:** Top 10 tipos por média de `attack`.
2. **Histograma:** Distribuição de `speed` (30 bins).
3. **Boxplot:** Analisar `defense`.
4. **Dispersão:** Relação entre `hp` e `defense` (amostra até 300).

### Escolas

1. **Barras:** Top 10 municípios por número de escolas.
2. **Barras:** Contagem por `tp_dependencia` (se existir).

---

## 🧯 Erros Comuns

- Usar **Seaborn** (não permitido nesta fase).
- Vários gráficos na mesma célula.
- Não usar `plt.tight_layout()` → texto cortado.
- Não girar os rótulos (`xticks`).

---

## 📎 Conclusão

Nesta aula, você aprendeu a **visualizar dados** com Matplotlib.  
Agora conseguimos **comunicar insights** que vieram de filtros, ordenações e agrupamentos.

🔮 **Próxima aula (10):** Detecção de valores **nulos** com Pandas.
