# 📘 UC22 – Aula 5 — Filtros Simples (Pandas)

![Python](https://img.shields.io/badge/Python-3.11+-blue?logo=python)
![Pandas](https://img.shields.io/badge/Pandas-Filtros-green?logo=pandas)
![Google Colab](https://img.shields.io/badge/Google%20Colab-Notebook-yellow?logo=googlecolab)
![Tempo](https://img.shields.io/badge/Dura%C3%A7%C3%A3o-90%20min-red)
![Nível](https://img.shields.io/badge/N%C3%ADvel-Iniciante%E2%9E%9CIntermedi%C3%A1rio-purple)

🎓 **Turma:** 3º Ano – Ensino Médio Técnico em Informática
📍 **Tema:** Filtros Simples em DataFrames Pandas
🐍 **Ferramenta principal:** Google Colab

---

## ✨ Frase motivadora

> “Filtrar dados é como procurar Pokémon raros: você precisa dos critérios certos para encontrá-los.” – IAra 🎯

---

## 🎯 Objetivos de Aprendizagem

Ao final desta aula, você será capaz de:

- Aplicar **filtros simples** em DataFrames usando operadores de comparação.
- Compreender a diferença entre **condições booleanas** e o resultado filtrado.
- Combinar filtros com colunas específicas para responder perguntas.
- Usar filtros no dataset Pokémon para descobrir características específicas.
- Preparar-se para a próxima aula (filtros compostos).

---

## 🧠 Revisão rápida (Aula 4)

- `df['coluna']` → seleciona uma **coluna**.
- `df[['col1', 'col2']]` → seleciona várias colunas.
- Seleção é o **primeiro passo**; agora vamos **filtrar linhas**.

---

## 📂 Preparando os dados (Google Drive)

Usaremos os mesmos datasets das aulas anteriores:

- `pokemons_pokedex.csv`
- `escolas_estaduais_censo_escolar_2023.csv`

```python
# 📂 Conectando o Google Drive
from google.colab import drive
drive.mount('/content/drive')

import pandas as pd

# --- Caminhos (ajuste conforme sua pasta) ---
caminho_poke = "/content/drive/MyDrive/UC22/pokemons_pokedex.csv"
caminho_escolas = "/content/drive/MyDrive/UC22/escolas_estaduais_censo_escolar_2023.csv"

# --- Leitura dos datasets ---
df_poke = pd.read_csv(caminho_poke, encoding="utf-8")
df_escolas = pd.read_csv(caminho_escolas, encoding="latin-1", sep=",")

# --- Padronização de nomes de colunas ---
df_poke.columns    = df_poke.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)
df_escolas.columns = df_escolas.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)

print("✅ Pokémon:", df_poke.shape, "colunas:", len(df_poke.columns))
print("✅ Escolas:", df_escolas.shape, "colunas:", len(df_escolas.columns))
```

---

## 1) Conceito de filtro simples

Um **filtro simples** seleciona apenas as linhas que **atendem a uma condição**.

- `==` → igual
- `!=` → diferente
- `>` → maior que
- `<` → menor que
- `>=` → maior ou igual
- `<=` → menor ou igual

📌 Exemplo Pokémon:

```python
# 🎯 Filtrar todos os Pokémon do tipo "Fire"
fogo = df_poke[df_poke['type_1'] == 'Fire']
print("Quantidade de Pokémon do tipo Fogo:", fogo.shape[0])
display(fogo.head())
```

---

## 2) Filtrando por atributos numéricos

```python
# 🎯 Filtrar Pokémon com Attack maior que 100
ataque_alto = df_poke[df_poke['attack'] > 100]
print("Quantidade com Attack > 100:", ataque_alto.shape[0])
display(ataque_alto.head())
```

---

## 3) Filtrando por texto (strings)

```python
# 🎯 Filtrar escolas do município "São Paulo"
sp = df_escolas[df_escolas['no_municipio'] == 'SÃO PAULO']
print("Escolas em São Paulo:", sp.shape[0])
display(sp.sample(5))
```

---

## 4) Usando `query()` como alternativa

A função `.query()` permite escrever condições como em SQL:

```python
# 🎯 Usando query para filtrar Pokémon tipo Water
agua = df_poke.query("type_1 == 'Water'")
print("Pokémon do tipo Água:", agua.shape[0])
display(agua.head())
```

---

## 5) Selecionando colunas junto com filtros

```python
# 🎯 Mostrar apenas Name, Type 1 e Speed de Pokémon com Speed > 120
rapidos = df_poke[df_poke['speed'] > 120][['name', 'type_1', 'speed']]
display(rapidos.head())
```

---

## ✅ Checklist do que você aprendeu hoje

- Usar **condições booleanas** para filtrar linhas.
- Aplicar operadores (`==`, `>`, `<`, `!=`) em colunas.
- Usar `.query()` como alternativa legível.
- Combinar filtro + seleção de colunas.

---

## 🧪 Mini-Lab (para entregar no Classroom)

**Arquivo:** `UC22_Aula05_Pratica_SeuNome.ipynb`

1. **Pokémon**

   - Liste quantos Pokémon são do tipo **Electric**.
   - Mostre apenas `name`, `type_1`, `attack` dos Pokémon com Attack **maior que 120**.
   - Descubra quantos Pokémon têm **HP menor que 50**.

2. **Escolas**

   - Quantas escolas estão em **Campinas**?
   - Liste o `no_entidade` e `no_municipio` das escolas de **Santos**.

---

## 🧯 Erros comuns

- **KeyError** → coluna não existe (verifique `df.columns`).
- **Case sensitive** → cuidado: `"Fire"` é diferente de `"fire"`.
- **Filtro vazio** → às vezes não há registros com a condição escolhida.

---

## 📎 Conclusão

Hoje você aprendeu a **filtrar dados de forma simples**.
Isso é essencial para responder perguntas específicas:

- Quais são os Pokémon mais fortes?
- Em qual município há mais escolas?

🔮 **Na próxima aula (6):** veremos **filtros compostos**, combinando várias condições (ex.: Pokémon do tipo Água com Speed > 70 e Defense < 60).

---
