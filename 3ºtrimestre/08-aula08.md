# ğŸ“˜ UC22 â€“ Aula 8 â€” OrdenaÃ§Ã£o com `sort_values()` (Pandas)

![Python](https://img.shields.io/badge/Python-3.11+-blue?logo=python)
![Pandas](https://img.shields.io/badge/Pandas-sort_values-green?logo=pandas)
![Google Colab](https://img.shields.io/badge/Google%20Colab-Notebook-yellow?logo=googlecolab)
![Tempo](https://img.shields.io/badge/Dura%C3%A7%C3%A3o-90%20min-red)
![NÃ­vel](https://img.shields.io/badge/N%C3%ADvel-Iniciante%E2%9E%9CIntermedi%C3%A1rio-purple)

ğŸ“ **Turma:** 3Âº Ano â€“ Ensino MÃ©dio TÃ©cnico em InformÃ¡tica
ğŸ“ **Tema:** OrdenaÃ§Ã£o de dados em DataFrames com Pandas
ğŸ **Ferramenta principal:** Google Colab

---

## âœ¨ Frase motivadora

> â€œOrdenar dados Ã© como organizar a mochila: sÃ³ quando tudo estÃ¡ no lugar certo conseguimos enxergar o que importa.â€ â€“ IAra ğŸ’

---

## ğŸ¯ Objetivos de Aprendizagem

Ao final desta aula, vocÃª serÃ¡ capaz de:

- Usar `sort_values()` para ordenar **linhas** em DataFrames.
- Ordenar de forma **crescente** e **decrescente**.
- Ordenar por **uma** ou **mÃºltiplas colunas**.
- Controlar critÃ©rios de desempate.
- Aplicar ordenaÃ§Ã£o em diferentes tipos de dados (nÃºmeros, textos, booleanos).
- Combinar ordenaÃ§Ã£o com seleÃ§Ã£o de colunas, filtros e agrupamentos.

---

## ğŸ“‚ PreparaÃ§Ã£o (Google Drive)

> Usaremos os mesmos datasets das aulas anteriores:
>
> - `pokemons_pokedex.csv`
> - `escolas_estaduais_censo_escolar_2023.csv`

```python
# ğŸ“‚ Conectando o Google Drive
from google.colab import drive
drive.mount('/content/drive')

import pandas as pd

# --- Caminhos ---
caminho_poke = "/content/drive/MyDrive/UC22/pokemons_pokedex.csv"
caminho_escolas = "/content/drive/MyDrive/UC22/escolas_estaduais_censo_escolar_2023.csv"

# --- Leitura ---
df_poke = pd.read_csv(caminho_poke, encoding="utf-8")
df_escolas = pd.read_csv(caminho_escolas, encoding="latin-1", sep=",")

# --- PadronizaÃ§Ã£o de colunas ---
df_poke.columns    = df_poke.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)
df_escolas.columns = df_escolas.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)

print("âœ… PokÃ©mon:", df_poke.shape)
print("âœ… Escolas:", df_escolas.shape)
```

---

## 1) Conceito de ordenaÃ§Ã£o

O mÃ©todo `sort_values(by=...)` **reordena as linhas** do DataFrame de acordo com o valor de uma ou mais colunas.

### Sintaxe bÃ¡sica:

```python
df.sort_values(by="coluna", ascending=True)
```

- `by`: coluna(s) para ordenar
- `ascending`: `True` (crescente, padrÃ£o) ou `False` (decrescente)

---

## 2) OrdenaÃ§Ã£o por **uma coluna**

```python
# ğŸ¯ Top 10 PokÃ©mon mais rÃ¡pidos
top_speed = df_poke.sort_values(by="speed", ascending=False)[["name","type_1","speed"]].head(10)
display(top_speed)
```

---

## 3) OrdenaÃ§Ã£o por **mÃºltiplas colunas**

```python
# ğŸ¯ Ordenar primeiro por tipo, depois por ataque (decrescente)
por_tipo_ataque = df_poke.sort_values(by=["type_1","attack"], ascending=[True,False])
display(por_tipo_ataque[["name","type_1","attack"]].head(15))
```

---

## 4) CritÃ©rios de desempate

Quando duas linhas tÃªm o mesmo valor na primeira coluna de ordenaÃ§Ã£o, o Pandas usa a **segunda** como critÃ©rio de desempate.

```python
# ğŸ¯ PokÃ©mon com o mesmo Attack, desempatar por Speed
desempate = df_poke.sort_values(by=["attack","speed"], ascending=[False,False])
display(desempate[["name","attack","speed"]].head(15))
```

---

## 5) Ordenando textos (strings)

```python
# ğŸ¯ Primeiros PokÃ©mon em ordem alfabÃ©tica
alfabetica = df_poke.sort_values(by="name", ascending=True)[["name","type_1","attack"]].head(15)
display(alfabetica)
```

---

## 6) Aplicando em Escolas

```python
# ğŸ¯ Top 10 municÃ­pios com maior quantidade de escolas
top10_municipios = df_escolas["no_municipio"].value_counts().sort_values(ascending=False).head(10)
display(top10_municipios)
```

---

## âœ… Checklist de Aprendizado

- Ordenar por uma coluna (`ascending=True/False`).
- Ordenar por mÃºltiplas colunas.
- Aplicar critÃ©rios de desempate.
- Ordenar textos em ordem alfabÃ©tica.
- Usar ordenaÃ§Ã£o em diferentes datasets.

---

## ğŸ§ª Mini-Lab (para entregar no Classroom)

**Arquivo:** `UC22_Aula08_Pratica_SeuNome.ipynb`

### Parte 1 â€” PokÃ©mon

1. Liste os **10 PokÃ©mon com maior Attack**.
2. Mostre os **10 PokÃ©mon com maior Defense** (em ordem decrescente).
3. Liste os **15 PokÃ©mon mais rÃ¡pidos**, mostrando `name`, `type_1`, `speed`.
4. Ordene todos os PokÃ©mon primeiro por `type_1` (Aâ€“Z), depois por `hp` (desc).

### Parte 2 â€” Escolas

1. Ordene alfabeticamente os nomes das escolas (`no_entidade`). Mostre os **20 primeiros**.
2. Descubra os **10 municÃ­pios com mais escolas** e exiba em ordem decrescente.

---

## ğŸ§¯ Erros comuns

- **Coluna nÃ£o encontrada**: confira com `df.columns`.
- **NÃºmeros como texto**: converta com `pd.to_numeric()`.
- **OrdenaÃ§Ã£o inplace**: se usar `inplace=True`, a tabela original serÃ¡ alterada.
- **Empate nÃ£o resolvido**: use mais de uma coluna no parÃ¢metro `by`.

---

## ğŸ“ ConclusÃ£o

Nesta aula vocÃª aprendeu a usar `sort_values()` para ordenar dados em DataFrames.
Com isso jÃ¡ conseguimos:

- Descobrir **top 10** de qualquer atributo.
- Comparar PokÃ©mon por **ataque, defesa, velocidade, HP**.
- Ordenar cidades ou escolas por critÃ©rios definidos.

ğŸ”® **Na prÃ³xima aula (9):** vamos criar **grÃ¡ficos com Matplotlib** para **visualizar** os dados que jÃ¡ sabemos filtrar, agrupar e ordenar.
