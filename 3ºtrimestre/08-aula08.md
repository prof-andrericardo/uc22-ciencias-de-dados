# 📘 UC22 – Aula 8 — Ordenação com `sort_values()` (Pandas)

![Python](https://img.shields.io/badge/Python-3.11+-blue?logo=python)
![Pandas](https://img.shields.io/badge/Pandas-sort_values-green?logo=pandas)
![Google Colab](https://img.shields.io/badge/Google%20Colab-Notebook-yellow?logo=googlecolab)
![Tempo](https://img.shields.io/badge/Dura%C3%A7%C3%A3o-90%20min-red)
![Nível](https://img.shields.io/badge/N%C3%ADvel-Iniciante%E2%9E%9CIntermedi%C3%A1rio-purple)

🎓 **Turma:** 3º Ano – Ensino Médio Técnico em Informática
📍 **Tema:** Ordenação de dados em DataFrames com Pandas
🐍 **Ferramenta principal:** Google Colab

---

## ✨ Frase motivadora

> “Ordenar dados é como organizar a mochila: só quando tudo está no lugar certo conseguimos enxergar o que importa.” – IAra 🎒

---

## 🎯 Objetivos de Aprendizagem

Ao final desta aula, você será capaz de:

- Usar `sort_values()` para ordenar **linhas** em DataFrames.
- Ordenar de forma **crescente** e **decrescente**.
- Ordenar por **uma** ou **múltiplas colunas**.
- Controlar critérios de desempate.
- Aplicar ordenação em diferentes tipos de dados (números, textos, booleanos).
- Combinar ordenação com seleção de colunas, filtros e agrupamentos.

---

## 📂 Preparação (Google Drive)

> Usaremos os mesmos datasets das aulas anteriores:
>
> - `pokemons_pokedex.csv`
> - `escolas_estaduais_censo_escolar_2023.csv`

```python
# 📂 Conectando o Google Drive
from google.colab import drive
drive.mount('/content/drive')

import pandas as pd

# --- Caminhos ---
caminho_poke = "/content/drive/MyDrive/UC22/pokemons_pokedex.csv"
caminho_escolas = "/content/drive/MyDrive/UC22/escolas_estaduais_censo_escolar_2023.csv"

# --- Leitura ---
df_poke = pd.read_csv(caminho_poke, encoding="utf-8")
df_escolas = pd.read_csv(caminho_escolas, encoding="latin-1", sep=",")

# --- Padronização de colunas ---
df_poke.columns    = df_poke.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)
df_escolas.columns = df_escolas.columns.str.strip().str.lower().str.replace(" ", "_", regex=False)

print("✅ Pokémon:", df_poke.shape)
print("✅ Escolas:", df_escolas.shape)
```

---

## 1) Conceito de ordenação

O método `sort_values(by=...)` **reordena as linhas** do DataFrame de acordo com o valor de uma ou mais colunas.

### Sintaxe básica:

```python
df.sort_values(by="coluna", ascending=True)
```

- `by`: coluna(s) para ordenar
- `ascending`: `True` (crescente, padrão) ou `False` (decrescente)

---

## 2) Ordenação por **uma coluna**

```python
# 🎯 Top 10 Pokémon mais rápidos
top_speed = df_poke.sort_values(by="speed", ascending=False)[["name","type_1","speed"]].head(10)
display(top_speed)
```

---

## 3) Ordenação por **múltiplas colunas**

```python
# 🎯 Ordenar primeiro por tipo, depois por ataque (decrescente)
por_tipo_ataque = df_poke.sort_values(by=["type_1","attack"], ascending=[True,False])
display(por_tipo_ataque[["name","type_1","attack"]].head(15))
```

---

## 4) Critérios de desempate

Quando duas linhas têm o mesmo valor na primeira coluna de ordenação, o Pandas usa a **segunda** como critério de desempate.

```python
# 🎯 Pokémon com o mesmo Attack, desempatar por Speed
desempate = df_poke.sort_values(by=["attack","speed"], ascending=[False,False])
display(desempate[["name","attack","speed"]].head(15))
```

---

## 5) Ordenando textos (strings)

```python
# 🎯 Primeiros Pokémon em ordem alfabética
alfabetica = df_poke.sort_values(by="name", ascending=True)[["name","type_1","attack"]].head(15)
display(alfabetica)
```

---

## 6) Aplicando em Escolas

```python
# 🎯 Top 10 municípios com maior quantidade de escolas
top10_municipios = df_escolas["no_municipio"].value_counts().sort_values(ascending=False).head(10)
display(top10_municipios)
```

---

## ✅ Checklist de Aprendizado

- Ordenar por uma coluna (`ascending=True/False`).
- Ordenar por múltiplas colunas.
- Aplicar critérios de desempate.
- Ordenar textos em ordem alfabética.
- Usar ordenação em diferentes datasets.

---

## 🧪 Mini-Lab (para entregar no Classroom)

**Arquivo:** `UC22_Aula08_Pratica_SeuNome.ipynb`

### Parte 1 — Pokémon

1. Liste os **10 Pokémon com maior Attack**.
2. Mostre os **10 Pokémon com maior Defense** (em ordem decrescente).
3. Liste os **15 Pokémon mais rápidos**, mostrando `name`, `type_1`, `speed`.
4. Ordene todos os Pokémon primeiro por `type_1` (A–Z), depois por `hp` (desc).

### Parte 2 — Escolas

1. Ordene alfabeticamente os nomes das escolas (`no_entidade`). Mostre os **20 primeiros**.
2. Descubra os **10 municípios com mais escolas** e exiba em ordem decrescente.

---

## 🧯 Erros comuns

- **Coluna não encontrada**: confira com `df.columns`.
- **Números como texto**: converta com `pd.to_numeric()`.
- **Ordenação inplace**: se usar `inplace=True`, a tabela original será alterada.
- **Empate não resolvido**: use mais de uma coluna no parâmetro `by`.

---

## 📎 Conclusão

Nesta aula você aprendeu a usar `sort_values()` para ordenar dados em DataFrames.
Com isso já conseguimos:

- Descobrir **top 10** de qualquer atributo.
- Comparar Pokémon por **ataque, defesa, velocidade, HP**.
- Ordenar cidades ou escolas por critérios definidos.

🔮 **Na próxima aula (9):** vamos criar **gráficos com Matplotlib** para **visualizar** os dados que já sabemos filtrar, agrupar e ordenar.
